werft:
  baseURL: https://werft.dev
  workspaceNodePathPrefix: "/mnt/disks/ssd0/builds"
  cleanupJobSpec:
    terminationGracePeriodSeconds: 10
service:
  webPort: 8080
  grpcPort: 7777
  prometheusPort: 9500
  pprofPort: 6060
  jobSpecRepos:
  - 32leaves/test-repo:werft
  webReadOnly: false
kubeconfig: "/home/gitpod/.kube/k3s.yaml"
executor:
  preperationTimeout: 10m
  totalTimeout: 60m
storage:
  logsPath: "/tmp/logs"
  jobsConnectionString: dbname=werft user=gitpod connect_timeout=5 sslmode=disable
  jobsMaxConnections: 10
github:
  webhookSecret: foobar
  privateKeyPath: testdata/example-app.pem
  appID: 48144
  installationID: 5647067
plugins:
  - name: "repo-github"
    type:
    - repository
    config:
      privateKeyPath: testdata/example-app.pem
      appID: 48144
      installationID: 5647067
    command:
    - sh
    - -c
    - go run plugins/repositories/github/main.go $*
    - -s
  - name: "github-trigger"
    type:
    - integration
    config:
      baseURL: https://werft.dev
      webhookSecret: foobar
      privateKeyPath: testdata/example-app.pem
      appID: 48144
      installationID: 5647067
    command:
    - sh
    - -c
    - go run plugins/integrations/github-trigger/main.go $*
    - -s
  - name: "example"
    type:
    - integration
    config:
      emoji: ðŸš€
    command:
    - sh
    - -c
    - cd plugins/integrations/integration-example && go run main.go $*
    - -s
  - name: "webhook"
    type:
    - integration
    config:
      notifications:
      - url: http://localhost:8081
        contentType: application/json
        filter: 
        - phase==done
        template: '{"text": "{{ .Name }} done"}'
    command:
    - sh
    - -c
    - cd plugins/integrations/webhook && go run main.go $*
    - -s
  - name: "cron"
    type:
    - integration
    config:
      tasks:
      - spec: "@every 10m"
        repo: github.com/32leaves/test-repo:werft
    command:
    - sh
    - -c
    - cd plugins/integrations/cron && go run main.go $*
    - -s